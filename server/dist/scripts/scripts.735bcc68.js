var GOOGLE_MAPS_KEY="AIzaSyC0UVCuwEX_H_hDgO-3hkZRqSPBSWqdWIA",GOOGLE_ANALYTICS_KEY="UA-17720218-1";angular.module("clientApp",["ngAnimate","ngRoute","ngSanitize","angularMoment","angularModalService","angularLazyImg"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"templates/stream/index.html",controller:"StreamCtrl"}).when("/twitter",{templateUrl:"templates/twitter/index.html",controller:"TwitterCtrl"}).when("/dribbble",{templateUrl:"templates/dribbble/index.html",controller:"DribbbleCtrl"}).when("/instagram",{templateUrl:"templates/instagram/index.html",controller:"InstagramCtrl"}).when("/youtube",{templateUrl:"templates/youtube/index.html",controller:"YoutubeCtrl"}).when("/github",{templateUrl:"templates/github/index.html",controller:"GithubCtrl"}).when("/tumblr",{templateUrl:"templates/tumblr/index.html",controller:"TumblrCtrl"}).when("/post/:postId",{templateUrl:"templates/tumblr/index.html",controller:"TumblrViewPostCtrl"}).when("/foursquare",{templateUrl:"templates/foursquare/index.html",controller:"FoursquareCtrl"}).when("/spotify",{templateUrl:"templates/lastfm/index.html",controller:"LastfmCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$window",function(a,b){a.menuOpened=!1,a.$on("$routeChangeStart",function(){a.menuOpened=!1,setTimeout(function(){b.scrollTo(0,0)},500)})}]).directive("mainNav",["$rootScope",function(a){return{restrict:"E",templateUrl:"templates/nav.html",link:function(b){b.toggleMenu=function(){a.menuOpened=!a.menuOpened}}}}]).filter("trusted",["$sce",function(a){return function(b){return a.trustAsResourceUrl(b)}}]),angular.module("clientApp").controller("StreamCtrl",["$window","$scope","$rootScope","$filter","$http","moment",function(a,b,c,d,e,f){function g(){m||(m=!0,requestAnimationFrame(function(){return k.scrollY+k.innerHeight>j.clientHeight-200?(l++,m=!0,void h(function(){b.$$phase||b.$apply()})):void(m=!1)}))}function h(a){n||r>2||(n=!0,e.get("/stream/"+l).success(function(c,e){if(200===e&&c&&c.length){for(var g=0;g<c.length;g++){var i=c[g];i.date=f(i.date).toDate();var j=f(i.date).format("YYYY-MM-DD");if(b.groups[j])b.groups[j].items.push(i);else{var k;k=o===j?"Today":p===j?"Yesterday":q!==j.substring(0,4)?d("date")(f(j).toDate(),"EEEE, MMMM d, yyyy"):d("date")(f(j).toDate(),"EEEE, MMMM d"),b.groups[j]={title:k,items:[i]}}}0===l&&c.length<7?(n=!1,l++,h(a)):(n=!1,m=!1,r=0,a())}else r++,n=!1,2>=r?(l++,h(a)):a()}).error(function(a){console.log("Error",a),n=!1,m=!1}))}function i(){b.animateEnter||setTimeout(function(){b.animateEnter=!0,b.visible=!0,b.$$phase||b.$apply(),c.firstEnter||(c.firstEnter=!0),setTimeout(function(){b.animateEnter=!1,b.$$phase||b.$apply()},1200)},c.firstEnter?500:1e3)}b.groups={};var j=angular.element(document.getElementById("main-stream"))[0],k=angular.element(a)[0],l=0,m=!1,n=!1;angular.element(a).bind("scroll",g),b.$on("$destroy",function(){angular.element(a).unbind("scroll",g)});var o=f().format("YYYY-MM-DD"),p=f().subtract(1,"day").format("YYYY-MM-DD"),q=f().format("YYYY"),r=0;h(i)}]),angular.module("clientApp").controller("TwitterCtrl",["$scope","$rootScope","$http","$window",function(a,b,c,d){function e(){l||(l=!0,requestAnimationFrame(function(){return j.scrollY+j.innerHeight>i.clientHeight-200?(k++,l=!0,void f(function(){a.$$phase||a.$apply()})):void(l=!1)}))}function f(b){m||n>2||(m=!0,c.get("/twitter/"+k).success(function(c,d){200===d&&c&&c.length?(a.tweets=a.tweets.concat(c),0===k&&c.length<7?(m=!1,k++,f(b)):(m=!1,l=!1,n=0,b())):(n++,m=!1,2>=n&&(k++,f(b)))}).error(function(a){console.log("Error",a),m=!1,l=!1,b()}))}function g(b){c.get("/twitter/user").success(function(c,d){200===d&&c&&(a.user=c,f(b))}).error(function(a){console.log("Error",a),b()})}function h(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.tweets=[];var i=angular.element(document.getElementById("twitter-page"))[0],j=angular.element(d)[0],k=0,l=!1,m=!1;angular.element(d).bind("scroll",e),a.$on("$destroy",function(){angular.element(d).unbind("scroll",e)});var n=0;g(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,h(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void h(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void h(b)}})}),a.openPicture=function(b){b.tweetID&&d.open("https://twitter.com/"+a.user.username+"/status/"+b.tweetID)}}]).directive("twitterPost",["ModalService",function(a){return{restrict:"E",scope:{item:"="},templateUrl:"templates/twitter/post.html",link:function(b){b.openPost=function(b,c){a.showModal({templateUrl:"templates/twitter/details.html",controller:"TwitterDetailsCtrl",inputs:{item:b,idx:c}})}}}}]).controller("TwitterDetailsCtrl",["$scope","close","item","idx",function(a,b,c,d){a.close=b,a.item=c,a.playing=!1,a.morePictures=!1,a.picture=null;var e=d||0;c.pictures&&!c.video&&(c.pictures.length>1?(a.morePictures=!0,a.picture=c.pictures[e].url):a.picture=c.pictures[e].url),a.nextPicture=function(){e++,e>=c.pictures.length&&(e=0),a.picture=c.pictures[e].url,a.$$phase||a.$apply()},a.prevPicture=function(){e--,0>e&&(e=c.pictures.length-1),a.picture=c.pictures[e].url,a.$$phase||a.$apply()},a.playVideo=function(){var b=angular.element(document.querySelector("#video"));b[0].paused===!0?(b[0].play(),a.playing=!0):(b[0].pause(),a.playing=!1),b[0].onended=function(){a.playing=!1,a.$$phase||a.$apply()}}}]),angular.module("clientApp").controller("InstagramCtrl",["$scope","$rootScope","$http","$window","ModalService",function(a,b,c,d,e){function f(){m||(m=!0,requestAnimationFrame(function(){return k.scrollY+k.innerHeight>j.clientHeight-200?(l++,m=!0,void g(function(){a.$$phase||a.$apply()})):void(m=!1)}))}function g(b){n||o>2||(n=!0,c.get("/instagram/"+l).success(function(c,d){200===d&&c&&c.length?(a.posts=a.posts.concat(c),n=!1,m=!1,o=0,0===l&&a.posts.length<10?(l++,g(b)):b()):(o++,n=!1,2>=o&&(l++,g(b)))}).error(function(a){console.log("Error",a),n=!1,m=!1,b()}))}function h(b){c.get("/instagram/user").success(function(c,d){200===d&&c&&(a.user=c,g(b))}).error(function(a){console.log("Error",a),b()})}function i(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.posts=[];var j=angular.element(document.getElementById("instagram-page"))[0],k=angular.element(d)[0],l=0,m=!1,n=!1;angular.element(d).bind("scroll",f),a.$on("$destroy",function(){angular.element(d).unbind("scroll",f)});var o=0;h(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,i(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}})}),a.openPost=function(a){e.showModal({templateUrl:"templates/instagram/details.html",controller:"InstagramDetailsCtrl",inputs:{item:a}})}}]).directive("instagramPost",["$window","ModalService",function(a,b){return{restrict:"E",scope:{item:"="},templateUrl:"templates/instagram/post.html",link:function(a){a.openPost=function(a){b.showModal({templateUrl:"templates/instagram/details.html",controller:"InstagramDetailsCtrl",inputs:{item:a}})}}}}]).controller("InstagramDetailsCtrl",["$scope","close","item",function(a,b,c){a.close=b,a.item=c,a.playing=!1,a.playVideo=function(){var b=angular.element(document.querySelector("#video"));b[0].paused===!0?(b[0].play(),a.playing=!0):(b[0].pause(),a.playing=!1),b[0].onended=function(){a.playing=!1,a.$$phase||a.$apply()}}}]),angular.module("clientApp").controller("FoursquareCtrl",["$scope","$rootScope","$http","$window","moment",function(a,b,c,d,e){function f(){r||(r=!0,requestAnimationFrame(function(){return p.scrollY+p.innerHeight>o.clientHeight-200?(q++,r=!0,void g(function(){a.$$phase||a.$apply()})):void(r=!1)}))}function g(b){s||t>2||(s=!0,c.get("/foursquare/"+q).success(function(c,d){200===d&&c&&c.length?(a.items=a.items.concat(c),u&&(u=!1,a.mapPage=q,h(c,null)),0===q&&c.length<10?(s=!1,q++,g(b)):(s=!1,r=!1,t=0,b())):(t++,s=!1,2>=t&&(q++,g(b)))}).error(function(a){console.log("Error",a),s=!1,r=!1,b()}))}function h(b,c){var f=e();if(a.mapPage>0&&f.subtract(a.mapPage,"months"),a.monthTitleDate=f.format("MMMM YYYY"),a.totalCheckins=b?b.length:0,!b||0===b.length)return a.mapCategories=[],a.mapData=[],a.$$phase||a.$apply(),void(c&&c());for(var g=[],h=[],i=0;i<b.length;i++){for(var j=b[i],k=!1,l=0;l<g.length;l++){var m=g[l];if(m.lat===j.lat&&m.lng===j.lng){k=!0;break}}if(k||g.push(j),j.category){for(var o=!1,p=0;p<h.length;p++){var q=h[p];if(q.title===j.category){q.count+=1,o=!0;break}}o||h.push({title:j.category,icon:j.icon,count:1})}}h.sort(function(a,b){return a.count<b.count?1:-1}),a.mapCategories=h,d.GoogleMapsLoader.KEY=GOOGLE_MAPS_KEY,d.GoogleMapsLoader.load(function(d){n=new d.maps.Map(document.getElementById("foursquare-map"),{center:{lat:g[0].lat,lng:g[0].lng},zoom:11,scrollwheel:!1,options:{styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#000000"},{lightness:"40"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#273239"},{lightness:"52"},{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{weight:"1.00"},{visibility:"on"},{lightness:"-61"}]},{featureType:"administrative.province",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-18"},{saturation:"0"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-9"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#111619"},{lightness:"5"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{weight:.2},{color:"#273239"},{lightness:"-50"},{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#111619"},{lightness:"6"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#111619"},{lightness:"3"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#273239"},{lightness:"-9"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#182125"},{lightness:"-12"},{saturation:"0"},{gamma:"1.00"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"simplified"}]}],disableDefaultUI:!0}});for(var e=new d.maps.LatLngBounds,f=b.slice(0,5),h=0;h<f.length;h++){var i=f[h],j=new d.maps.LatLng({lat:i.lat,lng:i.lng});e.extend(j)}n.fitBounds(e);var k=new d.maps.OverlayView;k.draw=function(){},k.onAdd=function(){for(var b=this.getProjection(),e=0;e<g.length;e++){var f=g[e],h=new d.maps.LatLng({lat:f.lat,lng:f.lng}),i=b.fromLatLngToContainerPixel(h);f.x=i.x,f.y=i.y}a.mapData=g,a.$$phase||a.$apply(),c&&c()},k.setMap(n)})}function i(b){c.get("/foursquare/user").success(function(c,d){200===d&&c&&(a.user=c,g(b))}).error(function(a){console.log("Error",a),b()})}function j(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}function k(b){s||(s=!0,c.get("/foursquare/"+a.mapPage).success(function(a,c){200===c&&a&&a.length?(s=!1,b(a)):(s=!1,b(null))}).error(function(a){console.log("Error",a),s=!1,b(null)}))}function l(b){a.animateShow=!1,a.animateBetween=!1,a.animateHide=!0,a.$$phase||a.$apply(),setTimeout(function(){a.animateHide=!1,a.animateBetween=!0,a.$$phase||a.$apply(),b()},1e3)}function m(){a.animateHide=!1,a.animateBetween=!1,a.animateShow=!0,b.$emit("lazyImg:refresh"),a.$$phase||a.$apply(),setTimeout(function(){a.animateBetween=!1,a.animateShow=!1,a.$$phase||a.$apply(),v=!1},1e3)}a.user={},a.items=[],a.mapPage=0;var n,o=angular.element(document.getElementById("foursquare-page"))[0],p=angular.element(d)[0],q=0,r=!1,s=!1;angular.element(d).bind("scroll",f),a.$on("$destroy",function(){angular.element(d).unbind("scroll",f)});var t=0,u=!0;i(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,j(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void j(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void j(b)}})});var v=!1;a.previousMonth=function(){v||(v=!0,l(function(){d.GoogleMapsLoader.release(),a.mapPage+=1,k(function(a){h(a,function(){m()})})}))},a.nextMonth=function(){v||(v=!0,l(function(){d.GoogleMapsLoader.release(),a.mapPage-=1,a.mapPage<0&&(a.mapPage=0),k(function(a){h(a,function(){m()})})}))},a.$on("$destroy",function(){d.GoogleMapsLoader.release()})}]).directive("foursquareCheckin",function(){return{restrict:"E",scope:{item:"="},templateUrl:"templates/foursquare/checkin.html"}}),angular.module("clientApp").controller("DribbbleCtrl",["$scope","$rootScope","$http","$window","ModalService",function(a,b,c,d,e){function f(){m||(m=!0,requestAnimationFrame(function(){return k.scrollY+k.innerHeight>j.clientHeight-200?(l++,m=!0,void g(function(){a.$$phase||a.$apply()})):void(m=!1)}))}function g(b){n||o>2||(n=!0,c.get("/dribbble/"+l).success(function(c,d){200===d&&c&&c.length?(a.posts=a.posts.concat(c),n=!1,m=!1,o=0,b()):(o++,n=!1,2>=o&&(l++,g(b)))}).error(function(a){console.log("Error",a),n=!1,m=!1,b()}))}function h(b){c.get("/dribbble/user").success(function(c,d){200===d&&c&&(a.user=c,g(b))}).error(function(a){console.log("Error",a),b()})}function i(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.posts=[];var j=angular.element(document.getElementById("dribbble-page"))[0],k=angular.element(d)[0],l=0,m=!1,n=!1;angular.element(d).bind("scroll",f),a.$on("$destroy",function(){angular.element(d).unbind("scroll",f)});var o=0;h(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,i(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}})}),a.openPost=function(a){e.showModal({templateUrl:"templates/dribbble/details.html",controller:"DribbbleDetailsCtrl",inputs:{item:a}})}}]).directive("dribbblePost",["$window","ModalService",function(a,b){return{restrict:"E",scope:{item:"="},templateUrl:"templates/dribbble/post.html",link:function(a){a.openPost=function(a){b.showModal({templateUrl:"templates/dribbble/details.html",controller:"DribbbleDetailsCtrl",inputs:{item:a}})}}}}]).controller("DribbbleDetailsCtrl",["$scope","close","item",function(a,b,c){a.close=b,a.item=c}]),angular.module("clientApp").controller("TumblrCtrl",["$scope","$rootScope","$http","$window","ModalService","$sce",function(a,b,c,d,e,f){function g(){m||(m=!0,requestAnimationFrame(function(){return k.scrollY+k.innerHeight>j.clientHeight-200?(l++,m=!0,void h(function(){a.$$phase||a.$apply()})):void(m=!1)}))}function h(b){n||o>2||(n=!0,c.get("/tumblr/"+l).success(function(c,d){if(200===d&&c&&c.length){for(var e=0;e<c.length;e++){var g=c[e];g.player?g.player=f.trustAsHtml(g.player):"text"===g.post_type&&(g.body=f.trustAsHtml(g.body)),a.posts.push(g)}n=!1,m=!1,o=0,b()}else o++,n=!1,2>=o&&(l++,h(b))}).error(function(a){console.log("Error",a),n=!1,m=!1,b()}))}function i(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.posts=[];var j=angular.element(document.getElementById("tumblr-page"))[0],k=angular.element(d)[0],l=0,m=!1,n=!1;angular.element(d).bind("scroll",g),a.$on("$destroy",function(){angular.element(d).unbind("scroll",g)});var o=0;h(function(){i(0)}),a.openPost=function(a,b){e.showModal({templateUrl:"templates/tumblr/details.html",controller:"TumblrDetailsCtrl",inputs:{item:a,idx:b}})}}]).controller("TumblrViewPostCtrl",["$scope","$rootScope","$routeParams","$http","ModalService","$sce",function(a,b,c,d,e,f){function g(b){i||(i=!0,d.get("/tumblr/post/"+c.postId).success(function(c,d){200===d&&c?(c.player?c.player=f.trustAsHtml(c.player):"text"===c.post_type&&(c.body=f.trustAsHtml(c.body)),a.posts=[c]):a.postNotFound=!0,i=!1,b()}).error(function(c){console.log("Error",c),i=!1,a.postNotFound=!0,b()}))}function h(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.posts=[],a.postNotFound=!1;var i=!1;g(function(){h(0)}),a.openPost=function(a,b){e.showModal({templateUrl:"templates/tumblr/details.html",controller:"TumblrDetailsCtrl",inputs:{item:a,idx:b}})}}]).directive("tumblrPost",["$sce","ModalService",function(a,b){return{restrict:"E",scope:{item:"="},templateUrl:"templates/tumblr/post.html",link:function(c){c.item.player&&(c.item.player=a.trustAsHtml(c.item.player)),c.openPost=function(a,c){b.showModal({templateUrl:"templates/tumblr/details.html",controller:"TumblrDetailsCtrl",inputs:{item:a,idx:c}})}}}}]).controller("TumblrDetailsCtrl",["$scope","close","item","idx",function(a,b,c,d){a.close=b,a.item=c,a.morePictures=!1,a.picture=null;var e=d||0;c.photos&&(c.photos.length>1?(a.morePictures=!0,a.picture=c.photos[e]):a.picture=c.photos[e]),a.nextPicture=function(){e++,e>=c.photos.length&&(e=0),a.picture=c.photos[e],a.$$phase||a.$apply()},a.prevPicture=function(){e--,0>e&&(e=c.photos.length-1),a.picture=c.photos[e],a.$$phase||a.$apply()}}]),angular.module("clientApp").controller("GithubCtrl",["$scope","$rootScope","$http",function(a,b,c){function d(b){h||(h=!0,c.get("/github/repos").success(function(c,d){200===d&&c&&c.length&&(a.repos=c),h=!1,b()}).error(function(a){console.log("Error",a),h=!1,b()}))}function e(b){h||(h=!0,c.get("/github/activity").success(function(c,d){200===d&&c&&c.length&&(a.activities=c),h=!1,b()}).error(function(a){console.log("Error",a),h=!1,b()}))}function f(b){c.get("/github/user").success(function(c,f){200===f&&c&&(a.user=c,d(function(){e(b)}))}).error(function(a){console.log("Error",a),b()})}function g(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.repos=[],a.activities=[];var h=!1;f(function(){g(0)})}]).directive("githubActivity",function(){return{restrict:"E",scope:{item:"="},templateUrl:"templates/github/activity.html"}}),angular.module("clientApp").controller("LastfmCtrl",["$scope","$rootScope","$http","$window",function(a,b,c,d){function e(b){i||(i=!0,c.get("/lastfm/activity").success(function(c,d){200===d&&c&&c.length&&(a.items=a.items.concat(c),i=!1),b()}).error(function(a){console.log("Error",a),i=!1,b()}))}function f(b){i||(i=!0,c.get("/lastfm/top").success(function(c,d){200===d&&c&&(a.topArtists=c.artists?c.artists:null,a.topAlbums=c.albums?c.albums:null,a.topTracks=c.tracks?c.tracks:null,a.$$phase||a.$apply(),i=!1),b()}).error(function(a){console.log("Error",a),i=!1,b()}))}function g(b){c.get("/lastfm/user").success(function(c,d){200===d&&c&&(a.user=c,f(function(){e(b)}))}).error(function(a){console.log("Error",a),b()})}function h(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,b.$emit("lazyImg:refresh"),a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.items=[];var i=!1;g(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,h(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void h(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void h(b)}})}),a.openTop=function(a){a.url&&d.open(a.url)}}]).directive("lastfmActivity",function(){return{restrict:"E",scope:{item:"="},templateUrl:"templates/lastfm/activity.html"}}),angular.module("clientApp").controller("YoutubeCtrl",["$scope","$rootScope","$http","$window","ModalService",function(a,b,c,d,e){function f(){m||(m=!0,requestAnimationFrame(function(){return k.scrollY+k.innerHeight>j.clientHeight-200?(l++,m=!0,void g(function(){a.$$phase||a.$apply()})):void(m=!1)}))}function g(b){n||o>2||(n=!0,c.get("/youtube/"+l).success(function(c,d){200===d&&c&&c.length?(a.posts=a.posts.concat(c),n=!1,m=!1,o=0,b()):(o++,n=!1,2>=o&&(l++,g(b)))}).error(function(a){console.log("Error",a),n=!1,m=!1,b()}))}function h(b){c.get("/youtube/user").success(function(c,d){200===d&&c&&(a.user=c,g(b))}).error(function(a){console.log("Error",a),b()})}function i(c){if(!a.animateEnter){var d=b.firstEnter?500:1e3;d+=500>=c?c:500,setTimeout(function(){a.animateEnter=!0,a.visible=!0,a.$$phase||a.$apply(),b.firstEnter||(b.firstEnter=!0),setTimeout(function(){a.animateEnter=!1,a.$$phase||a.$apply()},1200)},d)}}a.user={},a.posts=[];var j=angular.element(document.getElementById("youtube-page"))[0],k=angular.element(d)[0],l=0,m=!1,n=!1;angular.element(d).bind("scroll",f),a.$on("$destroy",function(){angular.element(d).unbind("scroll",f)});var o=0;h(function(){var a=(new Date).getTime(),c=!1,d=setTimeout(function(){c||(c=!0,i(0))},2e3);b.$on("lazyImg:success",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}}),b.$on("lazyImg:error",function(){if(!c){clearTimeout(d);var b=(new Date).getTime()-a;return c=!0,void i(b)}})}),a.openPost=function(a){e.showModal({templateUrl:"templates/youtube/details.html",controller:"YoutubeDetailsCtrl",inputs:{item:a}})}}]).directive("youtubePost",["$window","ModalService",function(a,b){return{restrict:"E",scope:{item:"="},templateUrl:"templates/youtube/post.html",link:function(a){a.openPost=function(a){b.showModal({templateUrl:"templates/youtube/details.html",controller:"YoutubeDetailsCtrl",inputs:{item:a}})}}}}]).controller("YoutubeDetailsCtrl",["$scope","close","item",function(a,b,c){a.close=b,a.item=c,a.youtubeEmbed="https://www.youtube.com/embed/"+c.id}]),angular.module("clientApp").run(["$templateCache",function(a){"use strict";a.put("templates/dribbble/details.html",'<div class="modal"> <div class="modal-background" ng-click="close()"></div> <div class="modal-overlay"> <div class="content"> <div class="media"> <img ng-if="item.pictureHD" ng-src="{{ item.pictureHD }}"> </div> <div class="details"> <a href="{{ item.url }}" class="user-info" ng-if="item.user" target="_blank"> <span class="picture"> <img ng-src="{{ item.user.picture }}"> </span> <h4 class="multiline"><strong>{{ item.title }}</strong> by {{ item.user.username }}</h4> </a> <h3 ng-if="!item.user">{{ item.title }}</h3> <span am-time-ago="item.date" class="date"></span> <div class="stats"> <a href="{{ item.url }}" ng-if="item.views" target="_blank"> <span class="small-icon views"></span><span class="val">{{ item.views }}</span> </a> <a href="{{ item.url }}" ng-if="item.likes" target="_blank"> <span class="small-icon heart"></span><span class="val">{{ item.likes }}</span> </a> <a href="{{ item.url }}" ng-if="item.comments" target="_blank"> <span class="small-icon comment"></span><span class="val">{{ item.comments }}</span> </a> </div> <div ng-bind-html="item.text"></div> </div> </div> </div> <button class="close-btn" ng-click="close()"></button> </div>'),a.put("templates/dribbble/index.html",'<div class="dribbble-page" id="dribbble-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <div class="name"> <h2>{{ user.name }}</h2> <a href="{{ user.url }}" class="username" target="_blank">@{{ user.username }}</a> </div> <ul class="stats"> <li ng-if="user.shots">Shots <strong>{{ user.shots }}</strong></li> <li ng-if="user.following">Following <strong>{{ user.following }}</strong></li> <li ng-if="user.followers">Followers <strong>{{ user.followers }}</strong></li> </ul> </div> <p ng-if="user.bio" class="bio">{{ user.bio }}</p> <div class="posts"> <ul> <li ng-repeat="item in posts" class="post"> <img ng-if="item.picture" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.picture }}" ng-click="openPost(item)"> <div class="stats"> <span class="small-icon views"></span><span class="val">{{ item.views }}</span> <span class="small-icon heart"></span><span class="val">{{ item.likes }}</span> <span class="small-icon comment"></span><span class="val">{{ item.comments }}</span> </div> </li><li> </li> </ul></div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/dribbble/post.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon dribbble"></span> <div class="content"> <img ng-if="item.picture" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.picture }}" ng-click="openPost(item)"> <p>{{ item.title }}</p> </div>'),a.put("templates/foursquare/checkin.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon foursquare"></span> <div class="content"> <div class="checkin-icon"> <img src="images/placeholder.78c81860.png" ng-if="item.icon" lazy-img="{{ item.icon }}"> </div> <div class="info"> <div><a href="{{ item.url }}" target="_blank">{{ item.title }}</a></div> <div> <span ng-if="item.event">{{ item.event }} - </span> <span ng-if="!item.event && item.category">{{ item.category }} - </span> <span class="alt">{{ item.city }}, {{item.state}}</span> </div> </div> </div>'),a.put("templates/foursquare/index.html",'<div class="foursquare-page" id="foursquare-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <h2>{{ user.name }}</h2> <span ng-if="user.location" class="location">{{ user.location }}</span> <p ng-if="user.bio" ng-bind-html="user.bio"></p> <ul class="stats"> <li ng-if="user.checkins">Check-ins <strong>{{ user.checkins }}</strong></li> <li ng-if="user.friends">Friends <strong>{{ user.friends }}</strong></li> </ul> <h3>Recent Check-ins</h3> <ul class="checkins"> <li ng-repeat="item in items" class="checkin"> <div class="checkin-icon"> <img src="images/placeholder.78c81860.png" ng-if="item.icon" lazy-img="{{ item.icon }}"> </div> <div class="info"> <div><a href="{{ item.url }}" target="_blank">{{ item.title }}</a></div> <div> <span ng-if="item.event">{{ item.event }} - </span> <span ng-if="!item.event && item.category">{{ item.category }} - </span> <span class="alt">{{ item.city }}, {{item.state}}</span> </div> <div am-time-ago="item.date" class="date"></div> </div> </li> </ul> </div> <div class="checkin-stats" ng-class="{\'animate-hide\': animateHide, \'animate-between\': animateBetween, \'animate-show\': animateShow}"> <div class="map-title" ng-if="monthTitleDate"> <h2 class="title" ng-if="monthTitleDate">{{ monthTitleDate }}</h2> <span class="total-count">{{ totalCheckins }} Check-ins</span> <span class="icon left" ng-click="previousMonth()"></span> <span class="icon right" ng-click="nextMonth()" ng-if="mapPage > 0"></span> </div> <div class="foursquare-map"> <div id="foursquare-map" class="map"></div> <div class="markers"> <div ng-repeat="item in mapData" ng-style="{\'top\': item.y + \'px\', \'left\': item.x + \'px\'}" class="marker"> <div class="circle"></div> <div class="text">{{ item.title }}</div> </div> </div> </div> <ul class="foursquare-categories" ng-if="mapCategories && mapCategories.length"> <li ng-repeat="category in mapCategories | limitTo:8"> <div class="category-icon"> <img src="images/placeholder.78c81860.png" ng-if="category.icon" lazy-img="{{ category.icon }}"> </div> <div class="category-title">{{category.title}}</div> <div class="category-count">{{category.count}} <span ng-if="category.count == 1">time</span><span ng-if="category.count > 1">times</span></div> </li> </ul> </div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/github/activity.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon github"></span> <div class="content"> <p>Pushed <strong><ng-pluralize count="item.commits" when="{\'1\': \'{} commit\',\'other\': \'{} commits\'}"></ng-pluralize></strong> to <a href="{{ item.repo_url }}" targe="_blank" ng-if="item.repo">{{ item.repo }}</a><span ng-if="!item.repo">a private repo</span> on Github. </p> </div>'),a.put("templates/github/index.html",'<div class="github-page" id="github-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <h2>{{ user.name }}</h2> <a href="{{ user.url }}" class="username" target="_blank">{{ user.username }}</a> <ul class="stats"> <li ng-if="user.repos">Repos <strong>{{ user.repos }}</strong></li> <li ng-if="user.following">Following <strong>{{ user.following }}</strong></li> <li ng-if="user.followers">Followers <strong>{{ user.followers }}</strong></li> </ul> <h3>Repositories</h3> <ul class="repos"> <li ng-repeat="repo in repos" class="repo"> <a href="{{ repo.url }}" target="_blank">{{ repo.name }}</a> <p>{{ repo.description }}</p> <ul class="repo-stats"> <li ng-if="repo.language">{{ repo.language }}</li> <li><span class="small-icon star"></span><span class="val">{{ repo.favorites }}</span></li> <li><span class="small-icon git-branch"></span><span class="val">{{ repo.forks }}</span></li> </ul> </li> </ul> </div> <div class="activities" ng-if="activities && activities.length"> <h2>Recent Activity</h2> <ul> <li ng-repeat="activity in activities" class="activity"> <span class="icon {{ activity.icon}}"></span> <p ng-bind-html="activity.description" class="description"></p> <div ng-if="activity.comment" class="comment" ng-bind-html="activity.comment"></div> <span am-time-ago="activity.date" class="date"></span> </li> </ul> </div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/instagram/details.html",'<div class="modal"> <div class="modal-background" ng-click="close()"></div> <div class="modal-overlay"> <div class="content"> <div class="media"> <img ng-if="item.pictureHD && !item.video" ng-src="{{ item.pictureHD }}"> <img ng-if="item.picture && !item.pictureHD && !item.video" ng-src="{{ item.picture }}"> <video ng-if="item.video" ng-src="{{ item.video.url | trusted }}" id="video" ng-click="playVideo()"></video> <span ng-if="item.video" class="icon play" ng-show="!playing" ng-click="playVideo()"></span> </div> <div class="details"> <a href="{{ item.url }}" class="user-info" ng-if="item.user" target="_blank"> <span class="picture"> <img ng-src="{{ item.user.profile_picture }}"> </span> <h4>{{ item.user.username }}</h4> </a> <span am-time-ago="item.date" class="date"></span> <div class="stats"> <a href="{{ item.url }}" ng-if="item.likes" target="_blank"> <span class="small-icon heart"></span><span class="val">{{ item.likes }}</span> </a> <a href="{{ item.url }}" ng-if="item.comments" target="_blank"> <span class="small-icon comment"></span><span class="val">{{ item.comments }}</span> </a> </div> <p ng-bind-html="item.text"></p> </div> </div> </div> <button class="close-btn" ng-click="close()"></button> </div>'),
a.put("templates/instagram/index.html",'<div class="instagram-page" id="instagram-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.profile_picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.profile_picture }}"> </a> <div class="name"> <h2>{{ user.full_name }}</h2> <a href="{{ user.url }}" class="username" target="_blank">@{{ user.username }}</a> </div> <ul class="stats" ng-if="user.counts"> <li ng-if="user.counts.media">Posts <strong>{{ user.counts.media }}</strong></li> <li ng-if="user.counts.follows">Following <strong>{{ user.counts.follows }}</strong></li> <li ng-if="user.counts.followed_by">Followers <strong>{{ user.counts.followed_by }}</strong></li> </ul> </div> <p ng-if="user.bio" class="bio">{{ user.bio }}</p> <div class="posts"> <ul> <li ng-repeat="item in posts" class="post"> <img ng-if="item.picture" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.picture }}" ng-click="openPost(item)"> <span class="icon play-video" ng-if="item.video"></span> <div class="stats"> <span class="small-icon heart"></span><span class="val">{{ item.likes }}</span> <span class="small-icon comment"></span><span class="val">{{ item.comments }}</span> </div> </li><li> </li> </ul></div> <a href="{{ user.url }}" target="_blank" class="button" ng-if="user.id">See more on Instagram...</a> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/instagram/post.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon instagram"></span> <div class="content"> <img ng-if="item.picture" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.picture }}" ng-click="openPost(item)"> <span class="icon play-video" ng-if="item.video"></span> <p ng-bind-html="item.text"></p> </div>'),a.put("templates/lastfm/activity.html",'<h3 class="h4">&nbsp;</h3> <span class="small-icon spotify"></span> <div class="content"> <p>Listened to <a href="{{ item.tracks[0].url }}" target="_blank">{{ item.tracks[0].title }}</a> by <a href="{{ item.tracks[0].url }}" target="_blank">{{ item.tracks[0].artist }}</a> and <strong>{{ item.plays - 1 }}</strong> other tracks on Spotify.</p> <a href="{{ track.url }}" target="_blank" ng-if="item.tracks" ng-repeat="track in item.tracks" class="pictures"><span class="pic" lazy-img="{{ track.image }}"></span></a> </div>'),a.put("templates/lastfm/index.html",'<div class="lastfm-page" id="lastfm-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.name"> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <h2>{{ user.name }}</h2> <span ng-if="user.username" class="username">{{ user.username }}</span> <h3>Recent Tracks</h3> <ul class="tracks"> <li ng-repeat="item in items" class="track"> <div class="track-image"> <img src="images/placeholder.78c81860.png" ng-if="item.image" lazy-img="{{ item.image }}"> <span class="icon music" ng-if="!item.image"></span> </div> <div class="track-info"> <div><a href="{{ item.url }}" target="_blank">{{ item.title }}</a><span ng-if="item.artist"> - {{ item.artist }}</span></div> <div am-time-ago="item.date" class="date"></div> </div> </li> </ul> </div> <div class="top-stats"> <h2 ng-if="topArtists">Top Artists</h2> <ul ng-if="topArtists" class="top"> <li ng-repeat="artist in topArtists" ng-click="openTop(artist)"> <div class="image" lazy-img="{{ artist.image }}"></div> <div class="info"> <a href="{{ artist.url }}" target="_blank">{{ artist.name }}</a> <div class="plays">{{ artist.count }} plays</div> </div> </li> </ul> <h2 ng-if="topAlbums">Top Albums</h2> <ul ng-if="topAlbums" class="top"> <li ng-repeat="album in topAlbums" ng-click="openTop(album)"> <div class="image" lazy-img="{{ album.image }}"></div> <div class="info"> <a href="{{ album.url }}" target="_blank">{{ album.name }}</a> <div ng-if="album.artist" class="artist">{{ album.artist }}</div> <div class="plays">{{ album.count }} plays</div> </div> </li> </ul> <h2 ng-if="topTracks">Top Tracks</h2> <ul ng-if="topTracks" class="top"> <li ng-repeat="track in topTracks" ng-click="openTop(track)"> <div class="image" lazy-img="{{ track.image }}"></div> <div class="info"> <a href="{{ track.url }}" target="_blank">{{ track.name }}</a> <div ng-if="track.artist" class="artist">{{ track.artist }}</div> <div class="plays">{{ track.count }} plays</div> </div> </li> </ul> </div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/nav.html",'<header class="main-header animate" ng-class="{\'open\':menuOpened}"> <hgroup> <a href="#/" rel="home"> <span class="picture"> <img ng-src="images/pic.365ccac6.jpg"> </span> <h1 class="h3">Rodrigo Neri</h1> </a> </hgroup> <nav> <ul class="main-nav"> <li><a href="#/twitter"><span class="icon twitter"></span><span class="txt">Twitter</span></a></li> <li><a href="#/github"><span class="icon github"></span><span class="txt">Github</span></a></li> <li><a href="#/dribbble"><span class="icon dribbble"></span><span class="txt">Dribbble</span></a></li> <li><a href="#/spotify"><span class="icon spotify"></span><span class="txt">Spotify</span></a></li> <li><a href="#/instagram"><span class="icon instagram"></span><span class="txt">Instagram</span></a></li> <li><a href="#/youtube"><span class="icon youtube"></span><span class="txt">YouTube</span></a></li> <li><a href="#/foursquare"><span class="icon foursquare"></span><span class="txt">Foursquare</span></a></li> <li><a href="#/tumblr"><span class="icon tumblr"></span><span class="txt">Tumblr</span></a></li> </ul> <a href="https://github.com/rigoneri/Syte2" class="about-link" target="_blank">About shis site</a> </nav> <span class="nav-btn" ng-click="toggleMenu()"> <span class="nav-btn-bar nb-1"></span> <span class="nav-btn-bar nb-2"></span> <span class="nav-btn-bar nb-3"></span> </span> </header>'),a.put("templates/stream/index.html",'<div class="stream" id="main-stream" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="stream-line"></div> <div ng-repeat="group in groups" class="stream-group"> <h2 class="day-title">{{ group.title }}</h2> <ul> <li ng-repeat="item in group.items" class="{{ item.type }}"> <twitter-post item="item" ng-if="item.type == \'twitter\'"></twitter-post> <instagram-post item="item" ng-if="item.type == \'instagram\'"></instagram-post> <foursquare-checkin item="item" ng-if="item.type == \'foursquare\'"></foursquare-checkin> <dribbble-post item="item" ng-if="item.type == \'dribbble\'"></dribbble-post> <tumblr-post item="item" ng-if="item.type == \'tumblr\'"></tumblr-post> <github-activity item="item" ng-if="item.type == \'github\'"></github-activity> <lastfm-activity item="item" ng-if="item.type == \'lastfm\'"></lastfm-activity> <youtube-post item="item" ng-if="item.type == \'youtube\'"></youtube-post> </li> </ul> </div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/tumblr/details.html",'<div class="modal"> <div class="modal-background" ng-click="close()"></div> <div class="modal-overlay"> <div class="content no-details"> <div class="media" ng-if="item.photos"> <img ng-if="picture" ng-src="{{ picture }}"> <span ng-if="morePictures" class="icon left" ng-click="prevPicture()"></span> <span ng-if="morePictures" class="icon right" ng-click="nextPicture()"></span> </div> </div> </div> <button class="close-btn" ng-click="close()"></button> </div>'),a.put("templates/tumblr/index.html",'<div class="tumblr-page" id="tumblr-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div ng-repeat="post in posts" class="post"> <div ng-if="post.post_type == \'text\'"> <h2 class="title"><a href="#/post/{{post.id}}">{{ post.title }}</a></h2> <div am-time-ago="post.date" class="date"></div> <div ng-bind-html="post.body" class="body"></div> </div> <div ng-if="post.post_type == \'photo\'"> <div am-time-ago="post.date" class="date"></div> <div ng-if="post.photos" ng-repeat="picture in post.photos | limitTo:4" class="pictures" ng-class="{\'multiple\': post.photos.length > 1}"> <span class="pic" lazy-img="{{picture}}" ng-click="openPost(post, $index)"></span> </div> <p ng-if="post.caption" ng-bind-html="post.caption" class="body"></p> </div> <div ng-if="post.post_type == \'video\' || post.post_type == \'audio\'"> <h2 ng-if="post.title" class="title">{{ post.title }}</h2> <div am-time-ago="post.date" class="date"></div> <div class="player" ng-if="post.player" ng-bind-html="post.player"></div> <p ng-if="post.caption" ng-bind-html="post.caption" class="body"></p> </div> <div ng-if="post.post_type == \'link\'"> <h2 ng-if="post.title" class="title">{{ post.title }}</h2> <div am-time-ago="post.date" class="date"></div> <div ng-if="post.photos" ng-repeat="picture in post.photos | limitTo:4" class="pictures" ng-class="{\'multiple\': post.photos.length > 1}"> <span class="link-pic" lazy-img="{{picture}}"></span> </div> </div> <div ng-if="post.post_type == \'quote\'"> <div am-time-ago="post.date" class="date"></div> <blockquote class="body">{{ post.quote }}</blockquote> <p ng-if="post.source"><em>- {{ post.source }}</em></p> </div> </div> <div class="post" ng-if="postNotFound"><h2>Post Not Found!</h2></div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/tumblr/post.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon tumblr"></span> <div class="content" ng-if="item.post_type == \'text\'"> <h4>New blog post!</h4> <a href="#/post/{{item.id}}" target="_blank">{{ item.title }}</a> </div> <div class="content" ng-if="item.post_type == \'photo\'"> <div ng-if="item.photos" ng-repeat="picture in item.photos | limitTo:4" class="pictures" ng-class="{\'multiple\': item.photos.length > 1}"> <span class="pic" lazy-img="{{picture}}" ng-click="openPost(item, $index)"></span> </div> <p ng-if="item.caption" ng-bind-html="item.caption"></p> </div> <div class="content" ng-if="item.post_type == \'video\' || item.post_type == \'audio\'"> <p ng-if="item.title"><a href="#/post/{{item.id}}" target="_blank">{{ item.title }}</a></p> <div class="player" ng-if="item.player" ng-bind-html="item.player"></div> <p ng-if="item.caption" ng-bind-html="item.caption"></p> </div> <div class="content" ng-if="item.post_type == \'link\'"> <p ng-if="item.title"><a href="#/post/{{item.id}}" target="_blank">{{ item.title }}</a></p> <div ng-if="item.photos" ng-repeat="picture in item.photos | limitTo:4" class="pictures" ng-class="{\'multiple\': item.photos.length > 1}"> <span class="link-pic" lazy-img="{{picture}}"></span> </div> </div> <div class="content" ng-if="item.post_type == \'quote\'"> <blockquote>{{ item.quote }}</blockquote> <p ng-if="item.source"><em>- {{ item.source }}</em></p> </div>'),a.put("templates/twitter/details.html",'<div class="modal"> <div class="modal-background" ng-click="close()"></div> <div class="modal-overlay"> <div class="content" ng-class="{\'no-media\': !item.pictures && !item.video}"> <div class="media" ng-if="item.pictures || item.video"> <img ng-if="picture" ng-src="{{ picture }}"> <span ng-if="morePictures" class="icon left" ng-click="prevPicture()"></span> <span ng-if="morePictures" class="icon right" ng-click="nextPicture()"></span> <video ng-if="item.video" ng-src="{{ item.video | trusted }}" id="video" ng-click="playVideo()"></video> <span ng-if="item.video" class="icon play" ng-show="!playing" ng-click="playVideo()"></span> </div> <div class="details"> <a href="{{ item.url }}" class="user-info" ng-if="item.user" target="_blank"> <span class="picture"> <img ng-src="{{ item.user.picture }}"> </span> <h4>@{{ item.user.username }}</h4> </a> <span am-time-ago="item.date" class="date"></span> <div class="stats"> <a href="{{ item.url }}" ng-if="item.favorites" target="_blank"> <span class="small-icon heart"></span><span class="val">{{ item.favorites }}</span> </a> <a href="{{ item.url }}" ng-if="item.retweets" target="_blank"> <span class="small-icon loop"></span><span class="val">{{ item.retweets }}</span> </a> </div> <p ng-bind-html="item.originalText" ng-if="item.originalText"></p> <p ng-bind-html="item.text" ng-if="!item.originalText"></p> </div> </div> </div> <button class="close-btn" ng-click="close()"></button> </div>'),a.put("templates/twitter/index.html",'<div class="twitter-page" id="twitter-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <div ng-if="user.banner" class="banner" src="images/placeholder.78c81860.png" lazy-img="{{ user.banner }}"></div> <div class="over-shadow"></div> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <h2>{{ user.name }}</h2> <a href="{{ user.url }}" class="username" target="_blank">@{{ user.username }}</a> <p ng-if="user.description" ng-bind-html="user.description"></p> <ul class="stats"> <li ng-if="user.statuses">Tweets <strong>{{ user.statuses }}</strong></li> <li ng-if="user.following">Following <strong>{{ user.following }}</strong></li> <li ng-if="user.followers">Followers <strong>{{ user.followers }}</strong></li> </ul> <h3 ng-if="user.pictures">Recent Photos</h3> <div class="photos" ng-if="user.pictures"> <div ng-repeat="picture in user.pictures | limitTo:4" class="photo" lazy-img="{{picture.url}}" ng-click="openPicture(picture)"></div> </div> </div> <div class="tweets" ng-if="tweets && tweets.length"> <h2>Recent Tweets</h2> <ul> <li ng-repeat="item in tweets" class="tweet"> <a href="{{ item.url }}" class="avatar" ng-if="item.user" target="_blank"> <img ng-src="{{ item.user.picture }}"> </a> <div class="content"> <h4><a href="{{ item.url }}" target="_blank">{{ item.user.name }} <span class="username">@{{ item.user.username }}</span></a><span am-time-ago="item.date" class="date"></span></h4> <p ng-bind-html="item.text"></p> <div ng-if="item.pictures" ng-repeat="picture in item.pictures | limitTo:4" class="pictures"> <span class="pic" lazy-img="{{picture.url}}" ng-click="openPost(item, $index)"></span> <span class="icon play-video" ng-if="item.video"></span> </div> </div> </li><li> </li> </ul></div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/twitter/post.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon twitter"></span> <div class="content"> <p ng-bind-html="item.text"></p> <div ng-if="item.pictures" ng-repeat="picture in item.pictures | limitTo:4" class="pictures" ng-class="{\'multiple\': item.pictures.length > 1}"> <span class="pic" lazy-img="{{picture.url}}" ng-click="openPost(item, $index)"></span> <span class="icon play-video" ng-if="item.video"></span> </div> </div>'),a.put("templates/youtube/details.html",'<div class="modal"> <div class="modal-background" ng-click="close()"></div> <div class="modal-overlay"> <div class="content youtube"> <div class="media"> <iframe width="560" height="315" src="{{ youtubeEmbed | trusted }}" frameborder="0" allowfullscreen></iframe> </div> <div class="details"> <h3 class="title">{{ item.title }}</h3> <span am-time-ago="item.date" class="date"></span> <div ng-bind-html="item.description"></div> </div> </div> </div> <button class="close-btn" ng-click="close()"></button> </div>'),a.put("templates/youtube/index.html",'<div class="youtube-page" id="youtube-page" ng-class="{\'animate-enter\': animateEnter, \'visible\': visible}"> <div class="user" ng-if="user.id"> <div ng-if="user.banner" class="banner" src="images/placeholder.78c81860.png" lazy-img="{{ user.banner }}"></div> <a href="{{ user.url }}" class="picture" target="_blank"> <img ng-if="user.picture" src="images/placeholder.78c81860.png" lazy-img="{{ user.picture }}"> </a> <h2 class="name">{{ user.name }}</h2> <p ng-if="user.subscribers" class="stat"><strong>{{ user.subscribers }}</strong> Subscribers</p> </div> <div class="posts"> <ul> <li ng-repeat="item in posts" class="post"> <img ng-if="item.image" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.image }}" ng-click="openPost(item)"> <span class="icon play-video"></span> <div class="info"> <p class="title">{{ item.title }}</p> </div> </li><li> </li> </ul></div> </div> <div class="loading-view" ng-class="{\'hidden\': visible }"><span>Loading...</span></div>'),a.put("templates/youtube/post.html",'<h3 class="h4">{{ item.date | date: \'h:mm a\'}}</h3> <span class="small-icon play"></span> <div class="content"> <img ng-if="item.image" class="pic" src="images/placeholder.78c81860.png" lazy-img="{{ item.image }}" ng-click="openPost(item)"> <span class="icon play-video"></span> <p>{{ item.title }}</p> </div>')}]);